<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml/DTD/xhtml1-transitional.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>dom</title>
    <script src="jquery-3.3.1.min.js" type="text/javaScript"></script>
</head>
<body>
    <div class="v_show">
        <div class="v_caption">
            <h2 class="cartoon" title="电子数码">电子数码</h2>
            <div class="highlight_tip">
                <span class="current">1</span>
                <span>2</span>
                <span>3</span>
                <span>4</span>
            </div>
            <div class="change_btn">
                <span class="prev">上一页</span>
                <span class="next">下一页</span>
            </div>
            <em><a href="#">更多>></a></em>
        </div>
        <div class="v_content">
            <div class="v_content_list">
                <ul>
                    <li>
                        <a href="" class="tooltip" title="苹果ipod">
                            <img src="" alt="苹果ipod"/>
                        </a>
                    </li>
                    <li>
                        <a href="" class="tooltip" title="苹果iphone">
                            <img src="" alt="苹果iphone" />
                        </a>
                    </li>
                    <li>
                        <a href="" class="tooltip" title="苹果mac">
                            <img src="" alt="苹果mac"/>
                        </a>
                    </li>
                    <li>
                        <a href="" class="tooltip" title="苹果mac">
                            <img src="" alt="苹果mac"/>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</body>
</html>
<script type="text/javaScript">
    $(function() {
        var page = 1;
        var i = 4;  //每版放4张图片
        $("span.next").click(function () { 
            var $parent = $(this).parents("div.v_show");
                        //根据当前单击元素获取到父元素
            var $v_show = $parent.find("div.v_content_list");
                        //寻找到“图片内容展示区”
            var $v_content = $patent.find("div.v_content");
                        //寻找“图片内容展示区”外围div
            var v_width = $v_content.width();
            var len = $v_show.find("li").length;
            var page_count = Math.ceil(len/i);
                        //向上取整，获得页数
            if (!$v_show.is(":animated")) {
                        //判断“图片内容展示区”是否正在处于动画
                if (page == page_count) {
                        //最后一页，再向后，必须跳转到第1页
                    $v_show.animate({ left: '0px'}, "slow");
                        //改变left的值，跳转到第1页
                    page = 1；
                }else{
                    $v_show.animate({ left: '-='+v_width}, "slow");
                    page++;
                }
            }
            $parent.find("span").eq((page-1)).addClass("current")
                .siblings().removeClass("current");
                        //确保表示页码的小圆点样式正确
        });
        $("span.prev").click(function () { 
            var $parent = $(this).parents("div.v_show");
                        //根据当前单击元素获取到父元素
            var $v_show = $parent.find("div.v_content_list");
                        //寻找到“图片内容展示区”
            var $v_content = $patent.find("div.v_content");
                        //寻找“图片内容展示区”外围div
            var v_width = $v_content.width();
            var len = $v_show.find("li").length;
            var page_count = Math.ceil(len/i);
                        //向上取整，获得页数
            if (!$v_show.is(":animated")) {
                        //判断“图片内容展示区”是否正在处于动画
                if (page == 1) {
                        //第1页，再向前，必须跳转到最后一页
                    $v_show.animate({ left: '-='+v_width*(page_count-1)}, "slow");
                    page = page_count；
                }else{
                    $v_show.animate({ left: '+='+v_width}, "slow");
                    page--;
                }
            }
            $parent.find("span").eq((page-1)).addClass("current")
                .siblings().removeClass("current");
                        //确保表示页码的小圆点样式正确
        });
    })

</script>
